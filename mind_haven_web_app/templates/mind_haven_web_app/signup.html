{% extends 'base.html' %}
{% load static %}
    {% block title %} MindHaven {% endblock %}

    {% block css-static-link %}
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link href='https://fonts.googleapis.com/css?family=Khand' rel='stylesheet'>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css">
    {% endblock %}

    {% block container-content %} 

      <div class="section-for-sign-up">

    <div class="appointment-header nav-header">
        <div class="question-text mt-4">already have an account? <a href="{% url 'appointment' %}">Sign In</a></div>
    </div>


    <div class="sign-up-now">
         <div class="container mt-5"> 

          {% include 'message.html' %}

          {% include 'form-fields.html' %}
    </div>

</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>

<script>
    $(document).ready(function () {
        {% if messages %}
            {% for message in messages %}
                // Set the message text in the modal
                $('#modalMessage').text('{{ message }}');
    
                // Check if the message is a success message
                {% if message.tags == 'success' %}
                    // Show the modal only for success messages
                    $('#messageModal').modal('show');
    
                    // Handle the OK button click for success
                    $('#modalOkButton').on('click', function () {
                        window.location.href = "{% url 'booking' %}"; // Redirect to booking.html
                    });
    
                    // Handle modal hidden event for success
                    $('#messageModal').on('hidden.bs.modal', function () {
                        window.location.href = "{% url 'booking' %}"; // Redirect to booking.html
                    });
                {% endif %}
            {% endfor %}
        {% endif %}
    });
    </script>

{% endblock container-content %}

